# NB-IoT 開發常見誤區

- [海量接入](#%E6%B5%B7%E9%87%8F%E6%8E%A5%E5%85%A5)
- [資料並發](#%E8%B3%87%E6%96%99%E4%B8%A6%E7%99%BC)
- [PSM 與 斷電](#psm-%E8%88%87-%E6%96%B7%E9%9B%BB)
- [參考資料](#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99)

## 海量接入

NB-IoT 所特有的「非持續連接」的工作機制，是 NB-IoT 擁有「海量終端接入」的根本原因。即 NB-IoT 的終端在不傳輸資料時，會進入休眠狀態，這樣的設計，使得 NB-IoT 可以支持更多的終端接入。但是當大量終端同時處於連接狀態，反而會造成對網路的高併發訪問，導致其他設備無法連接。

## 資料並發

NB-IoT 的主要問題可以簡單理解為「帶寬不夠用」，雖然能連接很多設備，但同時傳輸數據的能力有限，需要合理規劃設備的上傳時間和模式，避免大家「搶路」導致整個系統效率降低。

1. 通訊設備數量受限
    - 同一個基站中最多只支持 10 多個設備同時上傳資料
    - 支持最多 600 個設備同時處於 Connected 狀態
    - 支持 10 萬個設備在網路中註冊，也就是 PSM 狀態
2. 下行資料的瓶頸
    - 在每個基站覆蓋的範圍內，同一時間只能有一個設備收到資料

## PSM 與 斷電

- PSM 模式
    - 恢復速度快: 從 PSM 模式喚醒到完成網路部署僅需幾百毫秒
    - 流程簡單: 無需經過完整開機流程，喚醒後可直接發送資料
    - 耗電低: PSM 模式下的耗電量 < 10uA
    - 適用: 需要長時間處於休眠狀態，但又需要頻繁恢復連接的場景
- 斷電
    - 恢復速度慢: 從斷電模式喚醒到完成網路部署需要數秒
    - 流程複雜: 需要經過完整的開機流程，包括連接網路、註冊等
    - 耗電: 雖然完全斷電沒有電流，但是喚醒後重新連接過程中耗費的電量較多
    - 適用: 需要非常長時間處於休眠狀態，且不需要頻繁恢復連接的場景

> 雖然斷電模式的耗電量更低，但是恢復連接的時間所耗費的電量仍有可能超過 PSM 模式的耗電量。

## 參考資料

[【技术干货】NBIOT技术的深层分析与开发误区 - Tuya Developer Forum](https://www.tuyaos.com/viewtopic.php?t=75)